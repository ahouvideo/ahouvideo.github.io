(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-365e205e"],{"159b":function(t,e,a){var i=a("da84"),s=a("fdbc"),r=a("17c2"),o=a("9112");for(var n in s){var c=i[n],l=c&&c.prototype;if(l&&l.forEach!==r)try{o(l,"forEach",r)}catch(d){l.forEach=r}}},"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,s=a("a640"),r=a("ae40"),o=s("forEach"),n=r("forEach");t.exports=o&&n?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,a){"use strict";var i=a("23e7"),s=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"68d9":function(t,e,a){},a434:function(t,e,a){"use strict";var i=a("23e7"),s=a("23cb"),r=a("a691"),o=a("50c4"),n=a("7b0b"),c=a("65f0"),l=a("8418"),d=a("1dde"),f=a("ae40"),u=d("splice"),v=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u||!v},{splice:function(t,e){var a,i,d,f,u,v,C=n(this),S=o(C.length),k=s(t,S),L=arguments.length;if(0===L?a=i=0:1===L?(a=0,i=S-k):(a=L-2,i=m(h(r(e),0),S-k)),S+a-i>p)throw TypeError(g);for(d=c(C,i),f=0;f<i;f++)u=k+f,u in C&&l(d,f,C[u]);if(d.length=i,a<i){for(f=k;f<S-i;f++)u=f+i,v=f+a,u in C?C[v]=C[u]:delete C[v];for(f=S;f>S-i+a;f--)delete C[f-1]}else if(a>i)for(f=S-i;f>k;f--)u=f+i-1,v=f+a-1,u in C?C[v]=C[u]:delete C[v];for(f=0;f<a;f++)C[f+k]=arguments[f+2];return C.length=S-i+a,d}})},a640:function(t,e,a){"use strict";var i=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&i((function(){a.call(null,e||function(){throw 1},1)}))}},c975:function(t,e,a){"use strict";var i=a("23e7"),s=a("4d64").indexOf,r=a("a640"),o=a("ae40"),n=[].indexOf,c=!!n&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),d=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:c||!l||!d},{indexOf:function(t){return c?n.apply(this,arguments)||0:s(this,t,arguments.length>1?arguments[1]:void 0)}})},dbf5:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order"},[a("van-nav-bar",{attrs:{title:"我的订单","left-text":"返回","left-arrow":""},on:{"click-left":t.goback}}),a("van-tabs",{attrs:{color:"rgb(249,187,50)","line-height":"2","title-active-color":"rgb(249,187,50)"},on:{change:t.selectStatus},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabLists,(function(e,i){return a("van-tab",{key:i,attrs:{title:e.title,name:e.name}},[t.isHas?a("div",[a("van-empty",{staticClass:"custom-image",attrs:{image:"https://img.yzcdn.cn/vant/custom-empty-image.png",description:"快去逛逛吧💗"}})],1):a("div",{staticClass:"order-content"},[a("div",{staticClass:"order-items"},t._l(t.orderNos,(function(e,i){return a("div",{key:i,staticClass:"order-item"},[a("div",{staticClass:"order-item-title"},[a("div",{staticClass:"fl order-no"},[t._v(t._s(e))]),2==t.orderAllData[e].status?a("div",{staticClass:"fr"},[a("span",{staticClass:"confirm"},[t._v("已收货")]),a("span",{staticClass:"delete"},[a("van-icon",{staticClass:"delete-icon",attrs:{name:"delete"},on:{click:function(a){return t.deleteOrder(e)}}})],1)]):a("div",{staticClass:"fr"},[a("span",{staticClass:"confirm",on:{click:function(a){return t.comfirmProducts(e)}}},[t._v("确认收货")])])]),t._l(t.orderAllData[e].data,(function(e,i){return a("div",{key:i,staticClass:"items"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"fl pro-img"},[a("img",{staticClass:"auto-img",attrs:{src:e.smallImg,alt:""}})]),a("div",{staticClass:"fl pro-info"},[a("div",{staticClass:"fl"},[a("div",{staticClass:"names"},[a("div",{staticClass:"zh-name"},[t._v(t._s(e.name))]),a("div",{staticClass:"en-name"},[t._v(t._s(e.enname))])]),a("div",{staticClass:"rule"},[t._v(t._s(e.rule))])]),a("div",{staticClass:"fr"},[a("div",{staticClass:"price"},[t._v("￥"+t._s(e.price))]),a("div",{staticClass:"count"},[t._v("x"+t._s(e.count))])])])])])})),a("div",{staticClass:"order-total clearfix"},[a("div",{staticClass:"date fl"},[t._v(t._s(t._f("dateFormat")(t.orderAllData[e].date)))]),a("div",{staticClass:"fr clearfix"},[a("span",{staticClass:"fl total-count"},[t._v("共计"+t._s(t.orderAllData[e].count)+"件商品 合计：")]),a("span",{staticClass:"fl total-price"},[t._v("￥"+t._s(t.orderAllData[e].total))])])])],2)})),0)])])})),1)],1)},s=[],r=(a("4160"),a("c975"),a("a434"),a("159b"),a("68d9"),{data:function(){return{tabLists:[{title:"全部订单",name:"0"},{title:"待收货",name:"1"},{title:"已收货",name:"2"}],activeName:"0",isRecieve:!1,orderNos:[],orderAllData:{},isHas:!0}},methods:{goback:function(t){this.$router.push({name:"My"})},selectStatus:function(t){this.getOrder()},getOrder:function(){var t=this,e=localStorage.getItem("token");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findOrder",params:{appkey:this.appkey,tokenString:e,status:this.activeName}}).then((function(e){if(t.$toast.clear(),7e4==e.data.code){var a=[];e.data.result.forEach((function(t){-1===a.indexOf(t.oid)&&a.push(t.oid)})),t.orderNos=a;var i={};e.data.result.forEach((function(t){i[t.oid]?(i[t.oid].count+=t.count,i[t.oid].total+=t.count*t.price,i[t.oid].data.push(t)):i[t.oid]={data:[t],status:t.status,date:t.createdAt,count:t.count,total:t.price*t.count}})),t.orderAllData=i,t.orderNos.length>0?t.isHas=!1:t.isHas=!0}})).catch((function(e){t.$toast.clear()}))},comfirmProducts:function(t){var e=this,a=localStorage.getItem("token");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/receive",data:{appkey:this.appkey,tokenString:a,oid:t}}).then((function(a){if(e.$toast.clear(),8e4==a.data.code&&(e.orderAllData[t].status=2,1==e.activeName)){var i=e.orderNos.indexOf(t);e.orderNos.splice(i,1)}})).catch((function(t){e.$toast.clear()}))},deleteOrder:function(t){var e=this,a=localStorage.getItem("token");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/removeOrder",data:{appkey:this.appkey,tokenString:a,oid:t}}).then((function(a){if(e.$toast.clear(),9e4==a.data.code){var i=e.orderNos.indexOf(t);e.orderNos.splice(i,1)}})).catch((function(t){e.$toast.clear()}))}},created:function(){this.getOrder()}}),o=r,n=a("2877"),c=Object(n["a"])(o,i,s,!1,null,null,null);e["default"]=c.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-365e205e.fe5f001f.js.map