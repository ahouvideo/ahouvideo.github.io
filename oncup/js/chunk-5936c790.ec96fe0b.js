(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5936c790"],{1276:function(t,e,s){"use strict";var r=s("d784"),i=s("44e7"),n=s("825a"),a=s("1d80"),c=s("4840"),o=s("8aa5"),l=s("50c4"),d=s("14c3"),u=s("9263"),f=s("d039"),h=[].push,p=Math.min,v=4294967295,g=!f((function(){return!RegExp(v,"y")}));r("split",2,(function(t,e,s){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,s){var r=String(a(this)),n=void 0===s?v:s>>>0;if(0===n)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,n);var c,o,l,d=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,f+"g");while(c=u.call(g,r)){if(o=g.lastIndex,o>p&&(d.push(r.slice(p,c.index)),c.length>1&&c.index<r.length&&h.apply(d,c.slice(1)),l=c[0].length,p=o,d.length>=n))break;g.lastIndex===c.index&&g.lastIndex++}return p===r.length?!l&&g.test("")||d.push(""):d.push(r.slice(p)),d.length>n?d.slice(0,n):d}:"0".split(void 0,0).length?function(t,s){return void 0===t&&0===s?[]:e.call(this,t,s)}:e,[function(e,s){var i=a(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,i,s):r.call(String(i),e,s)},function(t,i){var a=s(r,t,this,i,r!==e);if(a.done)return a.value;var u=n(t),f=String(this),h=c(u,RegExp),x=u.unicode,m=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(g?"y":"g"),E=new h(g?u:"^(?:"+u.source+")",m),b=void 0===i?v:i>>>0;if(0===b)return[];if(0===f.length)return null===d(E,f)?[f]:[];var S=0,y=0,C=[];while(y<f.length){E.lastIndex=g?y:0;var A,_=d(E,g?f:f.slice(y));if(null===_||(A=p(l(E.lastIndex+(g?0:y)),f.length))===S)y=o(f,y,x);else{if(C.push(f.slice(S,y)),C.length===b)return C;for(var k=1;k<=_.length-1;k++)if(C.push(_[k]),C.length===b)return C;y=S=A}}return C.push(f.slice(S)),C}]}),!g)},"14c3":function(t,e,s){var r=s("c6b6"),i=s("9263");t.exports=function(t,e){var s=t.exec;if("function"===typeof s){var n=s.call(t,e);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"159b":function(t,e,s){var r=s("da84"),i=s("fdbc"),n=s("17c2"),a=s("9112");for(var c in i){var o=r[c],l=o&&o.prototype;if(l&&l.forEach!==n)try{a(l,"forEach",n)}catch(d){l.forEach=n}}},"17c2":function(t,e,s){"use strict";var r=s("b727").forEach,i=s("a640"),n=s("ae40"),a=i("forEach"),c=n("forEach");t.exports=a&&c?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,s){"use strict";var r=s("23e7"),i=s("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"44e7":function(t,e,s){var r=s("861d"),i=s("c6b6"),n=s("b622"),a=n("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},"64c7":function(t,e,s){},6547:function(t,e,s){var r=s("a691"),i=s("1d80"),n=function(t){return function(e,s){var n,a,c=String(i(e)),o=r(s),l=c.length;return o<0||o>=l?t?"":void 0:(n=c.charCodeAt(o),n<55296||n>56319||o+1===l||(a=c.charCodeAt(o+1))<56320||a>57343?t?c.charAt(o):n:t?c.slice(o,o+2):a-56320+(n-55296<<10)+65536)}};t.exports={codeAt:n(!1),charAt:n(!0)}},"76a1":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order"},[s("van-nav-bar",{attrs:{title:"提交订单","left-text":"返回","right-text":"...","left-arrow":"",fixed:!0},on:{"click-left":t.goback}}),s("div",{staticClass:"order-box"},[s("div",{staticClass:"address",on:{click:t.openAddress}},[t.isAddress?s("div",[s("p",[t._v("收货人："+t._s(t.userAddress.name))]),s("p",[t._v("电话："+t._s(t.userAddress.tel))]),s("p",[t._v("地址："+t._s(t.userAddress.address))])]):s("div",{staticClass:"contact clearfix"},[t._m(0),s("div",{staticClass:"rec fr"},[t._v("请添加收货地址信息")])])]),s("div",{staticClass:"orderProduct"},[s("div",{staticClass:"orderItems"},[t._l(t.orderProducts,(function(e,r){return s("div",{key:r,staticClass:"items clearfix"},[s("div",{staticClass:"fl imgs"},[s("img",{staticClass:"auto-img",attrs:{src:e.small_img,alt:""}})]),s("div",{staticClass:"fr infos"},[s("div",{staticClass:"fl"},[s("div",{staticClass:"names"},[s("div",{staticClass:"zh"},[t._v(t._s(e.name))]),s("div",{staticClass:"en"},[t._v(t._s(e.enname))])]),s("div",{staticClass:"rules"},[t._v(t._s(e.rule))])]),s("div",{staticClass:"fr"},[s("div",{staticClass:"price"},[t._v("￥"+t._s(e.price))]),s("div",{staticClass:"count"},[t._v("x"+t._s(e.count))])])])])})),s("div",{staticClass:"orderTotal"},[s("div",{staticClass:"fr clearfix"},[s("span",{staticClass:"fl totalNum"},[t._v("共计"+t._s(t.counts)+"件商品 合计：")]),s("span",{staticClass:"fr totalPrice"},[t._v("￥"+t._s(t.total))])])])],2)])]),s("div",[s("van-submit-bar",{attrs:{price:100*t.total,"button-text":"立即结算"},on:{submit:t.commitOredr}})],1),s("van-popup",{staticClass:"pop",style:{height:"50%"},attrs:{position:"bottom",closeable:""},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[s("van-address-list",{attrs:{list:t.list,"default-tag-text":"默认"},on:{select:t.selectAddress,add:t.goAddress},model:{value:t.chosenAddressId,callback:function(e){t.chosenAddressId=e},expression:"chosenAddressId"}})],1)],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add fl"},[s("div",{staticClass:"h"}),s("div",{staticClass:"w"})])}],n=(s("4160"),s("b0c0"),s("ac1f"),s("1276"),s("159b"),s("64c7"),{data:function(){return{isShow:!1,chosenAddressId:"1",list:[],userAddress:{address:"请选择收货地址",tel:"",name:""},isAddress:!1,orderProducts:[],counts:0,total:0,sids:[]}},methods:{goback:function(){var t=this;this.$dialog.confirm({title:"",message:"是否取消结算订单"}).then((function(){t.$router.go(-1)})).catch((function(t){}))},openAddress:function(){this.isShow=!0},getAddress:function(){var t=this,e=localStorage.getItem("token");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findAddress",params:{appkey:this.appkey,tokenString:e}}).then((function(e){t.$toast.clear(),2e4==e.data.code&&e.data.result.forEach((function(e){var s={id:e.aid,name:e.name,tel:e.tel,address:e.province+e.city+e.county+e.addressDetail,isDefault:Boolean(e.isDefault)};e.isDefault&&(t.chosenAddressId=e.aid,t.userAddress.address=s.address,t.userAddress.name=s.name,t.userAddress.tel=s.tel),t.list.push(s)}))})).catch((function(e){t.$toast.clear()}))},goAddress:function(){this.$router.push({name:"Address"})},selectAddress:function(t){this.isShow=!1,this.isAddress=!0,this.address=t.address,this.userAddress={address:t.address,tel:t.tel,name:t.name}},getPayData:function(t){var e=this,s=localStorage.getItem("token");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/commitShopcart",params:{appkey:this.appkey,tokenString:s,sids:JSON.stringify(t)}}).then((function(t){e.$toast.clear(),5e4==t.data.code&&t.data.result.forEach((function(t){e.counts+=t.count,e.total+=t.price*t.count})),e.orderProducts=t.data.result})).catch((function(t){e.$toast.clear()}))},commitOredr:function(){var t=this;if(this.isAddress){var e=localStorage.getItem("token");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/pay",data:{appkey:this.appkey,tokenString:e,sids:JSON.stringify(this.sids),address:this.userAddress.address,tel:this.userAddress.tel,name:this.userAddress.name}}).then((function(e){t.$toast.clear(),6e4==e.data.code&&t.$router.push({name:"Order"})})).catch((function(e){t.$toast.clear()}))}else this.$toast("请选择收货地址")}},created:function(){this.sids=this.$route.query.sids.split("-"),this.getAddress(),this.getPayData(this.sids)}}),a=n,c=s("2877"),o=Object(c["a"])(a,r,i,!1,null,"5b881ce3",null);e["default"]=o.exports},"8aa5":function(t,e,s){"use strict";var r=s("6547").charAt;t.exports=function(t,e,s){return e+(s?r(t,e).length:1)}},9263:function(t,e,s){"use strict";var r=s("ad6d"),i=s("9f7f"),n=RegExp.prototype.exec,a=String.prototype.replace,c=n,o=function(){var t=/a/,e=/b*/g;return n.call(t,"a"),n.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=o||d||l;u&&(c=function(t){var e,s,i,c,u=this,f=l&&u.sticky,h=r.call(u),p=u.source,v=0,g=t;return f&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),g=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,v++),s=new RegExp("^(?:"+p+")",h)),d&&(s=new RegExp("^"+p+"$(?!\\s)",h)),o&&(e=u.lastIndex),i=n.call(f?s:u,g),f?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:o&&i&&(u.lastIndex=u.global?i.index+i[0].length:e),d&&i&&i.length>1&&a.call(i[0],s,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(i[c]=void 0)})),i}),t.exports=c},"9f7f":function(t,e,s){"use strict";var r=s("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a640:function(t,e,s){"use strict";var r=s("d039");t.exports=function(t,e){var s=[][t];return!!s&&r((function(){s.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,s){"use strict";var r=s("23e7"),i=s("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,s){"use strict";var r=s("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,s){var r=s("83ab"),i=s("9bf2").f,n=Function.prototype,a=n.toString,c=/^\s*function ([^ (]*)/,o="name";r&&!(o in n)&&i(n,o,{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},d784:function(t,e,s){"use strict";s("ac1f");var r=s("6eeb"),i=s("d039"),n=s("b622"),a=s("9263"),c=s("9112"),o=n("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=n("replace"),f=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),h=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var s="ab".split(t);return 2!==s.length||"a"!==s[0]||"b"!==s[1]}));t.exports=function(t,e,s,u){var p=n(t),v=!i((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),g=v&&!i((function(){var e=!1,s=/a/;return"split"===t&&(s={},s.constructor={},s.constructor[o]=function(){return s},s.flags="",s[p]=/./[p]),s.exec=function(){return e=!0,null},s[p](""),!e}));if(!v||!g||"replace"===t&&(!l||!d||f)||"split"===t&&!h){var x=/./[p],m=s(p,""[t],(function(t,e,s,r,i){return e.exec===a?v&&!i?{done:!0,value:x.call(e,s,r)}:{done:!0,value:t.call(s,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),E=m[0],b=m[1];r(String.prototype,t,E),r(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}u&&c(RegExp.prototype[p],"sham",!0)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-5936c790.ec96fe0b.js.map